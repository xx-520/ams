<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.qfedu.ams.dao.AmsExamMapper">

    <resultMap id="AEResultMap" type="com.qfedu.ams.entity.AmsExam">
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="userId" property="userid" jdbcType="INTEGER"/>
        <result column="choiceId" property="choiceid" jdbcType="VARCHAR"/>
        <result column="judgeId" property="judgeid" jdbcType="VARCHAR"/>
        <result column="shortId" property="shortid" jdbcType="VARCHAR"/>
        <result column="examNum" property="examnum" jdbcType="INTEGER"/>
        <result column="locks" property="locks" jdbcType="INTEGER"/>
    </resultMap>

    <select id="findAll" resultMap="AEResultMap">
         select * from ams.ams_exam where status = 1
    </select>

    <update id="deleteById" parameterType="int">
    update ams.ams_exam
    set status = 0
    where id = #{id}
    </update>

    <insert id="add" parameterType="com.qfedu.ams.entity.AmsExam">
        insert into ams.ams_exam (choiceId, judgeId, shortId, examNum) values (#{choiceid},#{judgeid},#{shortid},#{examnum})
    </insert>

    <select id="findByIndexAndSize" parameterType="map" resultType="com.qfedu.ams.entity.ExamSubject">
        select * from ams.choice_question limit #{index},#{size}
    </select>




</mapper>